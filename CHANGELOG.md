# Changelog

このプロジェクトのすべての重要な変更を記録します。

## [v1.3.0] - 2026-01-22

### 追加
- **AIアクションカード**: AI提案を現場でワンタップ実行
  - 遅延アラート、コスト警告、天候提案
  - 52pxの大きなアクションボタン（現場対応）
  - HapticFeedback対応
  - 遅延-コスト相関ロジック

- **業者/RFQシステム**: 発注・見積管理
  - Vendor（業者）モデル
  - RFQRequest（見積依頼）モデル
  - RFQResponse（見積回答）モデル
  - TradeCategory（業種分類）
  - VendorRating（業者評価）

- **請求書OCR**: AI請求書処理
  - Invoice（請求書）モデル
  - InvoiceLineItem（明細）モデル
  - OCRResult（OCR結果）モデル
  - InvoiceStatus（ステータス管理）

- **財務ダッシュボード**: 予算消化状況の視覚化
  - BudgetDashboard（予算ダッシュボード）
  - BudgetItem（予算項目）モデル
  - ProjectBudgetSummary（予算サマリー）
  - カテゴリ別内訳表示
  - 今日の利益見込み（モバイル最上部）
  - BudgetOverageAlert（予算超過アラート）

### 改善
- AIアクションサービスで遅延影響額を自動計算
- 雨天遅延とコストの相関分析対応

---

## [v1.2.0] - 2026-01-22

### 追加
- **変更履歴機能**: タスクの変更履歴を追跡・表示（誰がいつ何を変えたか）
- **今日ライン強調**: ガントチャートに今日の縦線を太く表示、今週帯を背景色で強調
- **遅延バー視覚強調**: 遅延タスクに ⚠ +Xd 形式で超過日数を表示
- **依存関係矢印デフォルトON**: 依存関係の矢印表示をデフォルトで有効化
- **タスク選択→右パネル即切替**: タスク選択時に右パネルを自動的に詳細表示に切替

### 改善
- チャット機能の完成度向上

---

## [v1.1.0] - 2026-01-22

### 追加
- **チャットUI改善**: 現場向けに最適化
  - クイック返信機能（了解、完了、確認します、現場到着、遅れます）
  - 48pxの大きなタッチターゲット
  - 16pxフォントで読みやすいメッセージ
  - 行間1.5倍で見やすいテキスト

- **クイックフィルター統合**: ガントチャートにクイックフィルターバーを追加
  - 今日のタスク
  - 遅延タスク
  - 待ちタスク
  - 自分のタスク

- **メッセージバブル改善**:
  - 大きなフォントサイズ（16px）
  - 広めのパディング
  - 読みやすい行間（1.5）

---

## [v1.0.0] - 2026-01-22

### 機能
- **リアルタイム同期アーキテクチャ**
  - カーソルベースのポーリング
  - 変更フィード購読
  - オフライン対応
  - 競合解決

- **タスク管理**
  - 遅延ステータス表示（順調/リスク/待ち/超過）
  - 待ち理由の管理（前工程待ち、材料待ち、承認待ち等）
  - 添付状況の表示
  - フェーズベースの工程管理

- **ガントチャート**
  - フェーズ色分け表示
  - ドラッグでの日程変更
  - 依存関係の矢印表示
  - 進捗バーの視覚化

- **今日のTop 5ダッシュボード**
  - 優先度順でタスク表示
  - ワンタップで完了・報告

- **安全管理機能**
  - KYシート
  - 危険予知
  - 入退場記録

- **フェーズ色分け**
  - 基礎→構造→設備→内装→外構→検査
  - バトンパス方式の工程管理

---

## バージョニングルール

- **パッチ (x.x.X)**: バグ修正
- **マイナー (x.X.0)**: 新機能追加（後方互換性あり）
- **メジャー (X.0.0)**: 破壊的変更
